<!DOCTYPE html>
<html>
<head>
  <title>ZXS Proxy</title>
</head>
<body>
  <p>Loading...</p>

  <script src="uv/uv.bundle.js"></script>
  <script src="uv/uv.config.js"></script>

  <script>
    window.addEventListener('load', async () => {
      if ('serviceWorker' in navigator) {
        await navigator.serviceWorker.register('uv/uv.sw.js', {
          scope: '/s/internet/',
        });
      }

      const hash = window.location.hash;
      if (hash) {
        const url = decodeURIComponent(hash.slice(1));
        const encodedUrl = __uv$config.prefix + Ultraviolet.codec.xor.encode(url);
        window.location.replace(encodedUrl);
      }
    });
  </script>
</body>
</html>
