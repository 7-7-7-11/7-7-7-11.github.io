<!DOCTYPE html>
<html>
<head>
  <title>Ultraviolet Proxy</title>
</head>
<body>
  <h1>Loading...</h1>

 <!-- Load UV Core -->
<script src="uv/uv.bundle.js"></script>
<script src="uv/uv.config.js"></script>

<script>
  window.addEventListener('load', async () => {
    if ('serviceWorker' in navigator) {
      try {
        await navigator.serviceWorker.register('uv/uv.sw.js', {
          scope: '/s/internet/'
        });
        console.log('Service Worker registered successfully.');
      } catch (error) {
        console.error('Service Worker registration failed:', error);
      }
    }
  });
</script>
<script>
  window.addEventListener('load', async () => {
    const hash = window.location.hash;
    if (hash) {
      const inputUrl = decodeURIComponent(hash.slice(1)); // Remove '#'
      const encoded = __uv$config.prefix + Ultraviolet.codec.encode(inputUrl);
      window.location.replace(encoded);
    }
  });
</script>
